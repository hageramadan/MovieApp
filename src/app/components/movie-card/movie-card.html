<div class="card border-0 movie-card shadow">
  <div class="position-relative image-wrapper">
    @if (!imageLoaded) {
     <div class="skeleton" ></div>

    }
    <img
      [src]="movie.poster_path ? getPoster(movie) : 'assets/not_found.png'"
      class="card-img rounded-4"
      alt="Movie Poster"
      (load)="imageLoaded = true"
      [class.hidden]="!imageLoaded"
      (click)="details(movie.id)"
    />
    <!-- Rating Circle -->
    <app-rating-circle class="circle position-absolute" [percent]="movieRatingPercent(movie)">
    </app-rating-circle>

    <!-- 3 dots -->
    <div class="position-absolute top-0 end-0 m-2">
      <button class="btn-dots rounded-circle d-flex align-items-center justify-content-center">
        <span class="material-icons">more_horiz</span>
      </button>
    </div>
  </div>
  <div class="card-body mt-3">
    <h3 class="card-title">{{ movie.title }}</h3>
    <div class="d-flex justify-content-between">
      <p class="card-text my-auto">
        {{ movie.release_date | date : 'mediumDate' }}
      </p>
      <a (click)="toggleFavorite()" style="cursor: pointer"
        ><i
          [ngClass]="
            isFavorite
              ? 'fa-solid fa-heart text-warning h4 my-auto'
              : 'fa-regular fa-heart text-warning h4 my-auto'
          "
        ></i
      ></a>
    </div>
  </div>
</div>
